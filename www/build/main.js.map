{"version":3,"sources":["../../src/providers/carga-archivo/carga-archivo.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/subir/subir.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/place-holder/place-holder.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ToastController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class CargaArchivoProvider {\n\timagenes: ArchivoSubir[] = [];\n\tlastKey: string = null;\n\n  constructor(private toastCtrl: ToastController,\n  \t\t\t  private afDB: AngularFireDatabase) {\n\n  \tthis.cargar_ultimo_key().subscribe(()=>{\n  \t\tthis.cargar_imagenes();\n  \t});\n\n    console.log('Hello CargaArchivoProvider Provider');\n  }\n\n  private cargar_ultimo_key(){\n  \treturn this.afDB.list('/post', ref=> ref.orderByKey().limitToLast(1) )\n  \t\t\t .valueChanges()\n  \t\t\t .map( (post:any)=> {\n  \t\t\t \tconsole.log(post);\n  \t\t\t \tthis.lastKey = post[0].key;\n  \t\t\t \tthis.imagenes.push(post[0]);\n  \t\t\t });\n  }\n\n  cargar_imagenes(){\n  \tlet promesa = new Promise((resolve, reject) => {\n  \t\tthis.afDB.list('/post',\n  \t\tref => ref.limitToLast(1)\n  \t\t\t\t  //.orderByKey()\n  \t\t\t\t  //.endAt(this.lastKey)\n  \t\t)\n  \t\t.valueChanges()\n  \t\t.subscribe( (posts:any)=> {\n\n  \t\t\tposts.pop();\n\n  \t\t\tif(posts.length == 0){\n  \t\t\t\tconsole.log(\"Ya no hay mÃ¡s registros\");\n  \t\t\t\tresolve(false);\n  \t\t\t\treturn;\n  \t\t\t}\n\n  \t\t\tthis.lastKey = posts[0].key;\n\n  \t\t\tfor(let i = posts.length-1; i>=0; i--){\n  \t\t\t\tlet post = posts[i];\n  \t\t\t\tthis.imagenes.push(post);\n  \t\t\t}\n\n  \t\t\tresolve(true);\n  \t\t})\n  \t});\n\n  \treturn promesa;\n  }\n\n  cargar_imagen_firebase( archivo: ArchivoSubir ){\n  \tlet promesa = new Promise( (resolve, reject)=>{\n  \t\tlet storeRef = firebase.storage().ref();\n  \t\tlet nombreArchivo: string = new Date().valueOf().toString();\n\n  \t\tlet uploadTask: firebase.storage.UploadTask = \n  \t\t\tstoreRef.child(`img/${ nombreArchivo }`)\n  \t\t\t\t\t.putString( archivo.img, 'base64', { contentType: 'image/jpeg' } )\n\n  \t\t\tuploadTask.on( firebase.storage.TaskEvent.STATE_CHANGED, \n  \t\t\t\t() => {},//saber el % de cuanto se ha subido\n  \t\t\t\t(error) => {\n  \t\t\t\t\tconsole.log(\"ERROR EN LA CARGA\");\n  \t\t\t\t\tconsole.log(JSON.stringify(error));\n  \t\t\t\t\tthis.mostrar_toast(JSON.stringify(error));\n  \t\t\t\t\treject();\n  \t\t\t\t},\n  \t\t\t\t() => {\n  \t\t\t\t\tconsole.log(\"Archivo subido\");\n  \t\t\t\t\tthis.mostrar_toast(\"Imagen cargada correctamente\");\n  \t\t\t\t\tlet url = uploadTask.snapshot.downloadURL;\n  \t\t\t\t\tthis.crear_post(archivo.titulo, url, nombreArchivo);\n  \t\t\t\t\tresolve();\n  \t\t\t\t}\n\n  \t\t\t)\n  \t});\n\n  \treturn promesa;\n  }\n\n  mostrar_toast( mensaje: string ){\n  \tlet toast = this.toastCtrl.create({\n      message: mensaje,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  crear_post(titulo: string, url: string, nombreArchivo: string){\n  \tlet post = {\n  \t\timg: url,\n  \t\ttitulo: titulo,\n  \t\tkey: nombreArchivo\n  \t}\n\n  \tconsole.log(JSON.stringify(post));\n\n  \t//this.afDB.list('/post').push(post);\n\n  \tthis.afDB.object(`/post/${ nombreArchivo }`).update(post);\n  \tthis.imagenes.push(post);\n  }\n\n}\n\ninterface ArchivoSubir{\n\ttitulo: string;\n\timg: string;\n\tkey?: string; //significa que es opcional\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/carga-archivo/carga-archivo.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 120;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 120\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 163;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 163\n// module chunks = 0","import { Component } from '@angular/core';\nimport { ModalController } from 'ionic-angular';\nimport { SubirPage } from '../../pages/subir/subir';\n\n//import { AngularFireDatabase } from 'angularfire2/database';\n//import { Observable } from 'rxjs/Observable';\n\nimport { CargaArchivoProvider } from '../../providers/carga-archivo/carga-archivo';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  hayMas:boolean = true;\n\t\n  //posts: Observable<any[]>;\n\n  //constructor(private modalCtrl: ModalController, private afDB: AngularFireDatabase) {\n  constructor(private modalCtrl: ModalController, private _cap: CargaArchivoProvider) {\n  \t//this.posts = this.afDB.list('post').valueChanges();\n  }\n\n\n  mostrar_modal(){\n  \tlet modal = this.modalCtrl.create(SubirPage);\n\n  \tmodal.present();\n  }\n\n  doInfinite(infiniteScroll) {\n    console.log('Begin async operation');\n\n      this._cap.cargar_imagenes().then(\n        (hayMas:boolean)=> {\n          this.hayMas = hayMas;\n          console.log(hayMas);\n          infiniteScroll.complete()\n        }\n      );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { ViewController } from 'ionic-angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { ImagePicker, ImagePickerOptions } from '@ionic-native/image-picker';\nimport { CargaArchivoProvider } from '../../providers/carga-archivo/carga-archivo';\n\n@Component({\n  selector: 'page-subir',\n  templateUrl: 'subir.html',\n})\nexport class SubirPage {\n\t\n\ttitulo: string = \"\";\n\timagenPreview: string = \"\";\n\timagen64: string;\n\n  constructor(private viewCtrl: ViewController,\n  \t\t\t  private camera: Camera,\n  \t\t\t  private imagePicker: ImagePicker,\n  \t\t\t  public _cap: CargaArchivoProvider) {}\n\n  cerrar_modal(){\n  \tthis.viewCtrl.dismiss();\n  }\n\n  mostrar_camara(){\n  \tconst options: CameraOptions = {\n\t  quality: 100,\n\t  destinationType: this.camera.DestinationType.DATA_URL,\n\t  encodingType: this.camera.EncodingType.JPEG,\n\t  mediaType: this.camera.MediaType.PICTURE\n\t}\n\n\tthis.camera.getPicture(options).then((imageData) => {\n\t // imageData is either a base64 encoded string or a file URI\n\t // If it's base64:\n\t this.imagenPreview = 'data:image/jpeg;base64,' + imageData;\n\t this.imagen64 = imageData;\n\t}, (err) => {\n\t // Handle error\n\t console.log(\"ERROR EN CAMARA: \", JSON.stringify(err));\n\t});\n  }\n\n  seleccionar_foto(){\n  \tlet options: ImagePickerOptions = {\n  \t\tquality: 70,\n  \t\toutputType: 1,\n  \t\tmaximumImagesCount: 1\n  \t}\n\n  \tthis.imagePicker.getPictures(options).then((results) => {\n\t  for (var i = 0; i < results.length; i++) {\n\t      //console.log('Image URI: ' + results[i]);\n\t      this.imagenPreview = 'data:image/jpeg;base64,' + results[i];\n\t      this.imagen64 = results[i];\n\t  }\n\t}, (err) => { \n\t\tconsole.log(\"ERROR EN SELECTOR: \", JSON.stringify(err));\n\t});\n  }\n\n  crear_post(){\n  \tlet archivo = {\n  \t\timg : this.imagen64,\n  \t\ttitulo : this.titulo\n  \t}\n\n  \tthis._cap.cargar_imagen_firebase(archivo).then(()=>this.cerrar_modal());\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/subir/subir.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\n//Pipes\nimport { PipesModule } from '../pipes/pipes.module';\n\n//Plugins\nimport { Camera } from '@ionic-native/camera';\nimport { ImagePicker } from '@ionic-native/image-picker';\n\n//firebase\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyBFxbOQil8BVycs0RQfhj_et3FzZ7SmhkY\",\n  authDomain: \"gag-83aec.firebaseapp.com\",\n  databaseURL: \"https://gag-83aec.firebaseio.com\",\n  projectId: \"gag-83aec\",\n  storageBucket: \"gag-83aec.appspot.com\",\n  messagingSenderId: \"356591150599\"\n};\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { SubirPage } from '../pages/subir/subir';\nimport { CargaArchivoProvider } from '../providers/carga-archivo/carga-archivo';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    SubirPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule,\n    PipesModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    SubirPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    AngularFireDatabase,\n    Camera,\n    ImagePicker,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    CargaArchivoProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { NgModule } from '@angular/core';\nimport { PlaceHolderPipe } from './place-holder/place-holder';\n@NgModule({\n\tdeclarations: [PlaceHolderPipe],\n\timports: [],\n\texports: [PlaceHolderPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'placeHolder',\n})\nexport class PlaceHolderPipe implements PipeTransform {\n  \n  transform(value: string, defecto: string = \"Sin texto\") {\n    return (value) ? value : defecto;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/place-holder/place-holder.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}